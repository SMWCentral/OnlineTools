function e(e,t,n){const a=document.createElement("img");return a.src=e,a.style.maxWidth=`${t}px`,a.style.maxHeight=`${n}px`,a}function t(e,t,n){const a=document.createElement("button");return a.textContent=e,t&&(a.className=t),n&&a.addEventListener("click",n),a}export default function(n){const a=n.byID("fileInput"),o=n.byID("previewContainer"),c=n.byID("resultContainer");a.addEventListener("change",n=>{const i=n.target.files[0],r=new FileReader;r.onload=n=>{const r=new Image;r.onload=()=>{o.innerHTML="",c.innerHTML="";const l=e(n.target.result,256,224);o.appendChild(l);const s=function(e,t,n){const a=document.createElement("canvas");a.width=t,a.height=n;const o=a.getContext("2d");return o.imageSmoothingEnabled=!1,o.drawImage(e,0,0,t,n),a}(r,256,224),d=e(s.toDataURL(),256,224);c.appendChild(d);const u=`${m=i.name,m.split(".").slice(0,-1).join(".")}_scaled.png`;var m;const p=t("Save","saveButton",()=>function(e,t){const n=document.createElement("a");n.href=e.toDataURL(),n.download=t,n.click()}(s,u));c.appendChild(p);const g=t("Clear",null,()=>function(e,t,n){e.innerHTML="",t.innerHTML="",n.value=""}(o,c,a));o.appendChild(g)},r.src=n.target.result},r.readAsDataURL(i)})}